import{s as y,_ as h,a as M,r as u,u as S,b as D,j as t,c as T,d as B,g as P,S as p,e as k,f as L,h as R,T as g,i as $,L as x,k as z,C as E,B as w}from"./index-86247d99.js";import{A as C}from"./Alert-30ae7243.js";import{T as v}from"./TextField-a9dcc139.js";const F=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],H=e=>{const{absolute:i,children:r,classes:o,flexItem:l,light:a,orientation:n,textAlign:s,variant:c}=e;return B({root:["root",i&&"absolute",c,a&&"light",n==="vertical"&&"vertical",l&&"flexItem",r&&"withChildren",r&&n==="vertical"&&"withChildrenVertical",s==="right"&&n!=="vertical"&&"textAlignRight",s==="left"&&n!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",n==="vertical"&&"wrapperVertical"]},P,o)},U=y("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:r}=e;return[i.root,r.absolute&&i.absolute,i[r.variant],r.light&&i.light,r.orientation==="vertical"&&i.vertical,r.flexItem&&i.flexItem,r.children&&i.withChildren,r.children&&r.orientation==="vertical"&&i.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&i.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&i.textAlignLeft]}})(({theme:e,ownerState:i})=>h({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:M(e.palette.divider,.08)},i.variant==="inset"&&{marginLeft:72},i.variant==="middle"&&i.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},i.variant==="middle"&&i.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},i.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>h({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:i})=>h({},i.children&&i.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:i})=>h({},i.children&&i.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>h({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),N=y("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,i)=>{const{ownerState:r}=e;return[i.wrapper,r.orientation==="vertical"&&i.wrapperVertical]}})(({theme:e,ownerState:i})=>h({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},i.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),O=u.forwardRef(function(i,r){const o=S({props:i,name:"MuiDivider"}),{absolute:l=!1,children:a,className:n,component:s=a?"div":"hr",flexItem:c=!1,light:d=!1,orientation:f="horizontal",role:b=s!=="hr"?"separator":void 0,textAlign:A="center",variant:I="fullWidth"}=o,W=D(o,F),m=h({},o,{absolute:l,component:s,flexItem:c,light:d,orientation:f,role:b,textAlign:A,variant:I}),j=H(m);return t.jsx(U,h({as:s,className:T(j.root,n),role:b,ref:r,ownerState:m},W,{children:a?t.jsx(N,{className:j.wrapper,ownerState:m,children:a}):null}))}),V=O;function _(e){const{variant:i,...r}=e;return i==="apple.com"?t.jsxs(p,{role:"img",viewBox:"0 0 24 24",...r,children:[t.jsx("title",{children:"Apple"}),t.jsx("path",{fill:"#000",d:"M14.94,5.19A4.38,4.38,0,0,0,16,2,4.44,4.44,0,0,0,13,3.52,4.17,4.17,0,0,0,12,6.61,3.69,3.69,0,0,0,14.94,5.19Zm2.52,7.44a4.51,4.51,0,0,1,2.16-3.81,4.66,4.66,0,0,0-3.66-2c-1.56-.16-3,.91-3.83.91s-2-.89-3.3-.87A4.92,4.92,0,0,0,4.69,9.39C2.93,12.45,4.24,17,6,19.47,6.8,20.68,7.8,22.05,9.12,22s1.75-.82,3.28-.82,2,.82,3.3.79,2.22-1.24,3.06-2.45a11,11,0,0,0,1.38-2.85A4.41,4.41,0,0,1,17.46,12.63Z"})]}):i==="google.com"?t.jsxs(p,{role:"img",viewBox:"0 0 48 48",...r,children:[t.jsx("title",{children:"Google"}),t.jsxs("g",{children:[t.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),t.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),t.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),t.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),t.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})]}):i==="facebook.com"?t.jsxs(p,{role:"img",viewBox:"0 0 24 24",...r,children:[t.jsx("title",{children:"Facebook"}),t.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})]}):t.jsxs(p,{role:"img",viewBox:"0 0 32 32",...r,children:[t.jsx("title",{children:"Anonymous"}),t.jsx("circle",{fill:"none",stroke:"#999",cx:"16",cy:"16",r:"14",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10}),t.jsx("circle",{fill:"none",stroke:"#999",cx:"16",cy:"13",r:"5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10}),t.jsx("path",{fill:"none",stroke:"#999",d:"M5.4 25.1c1.8-4.1 5.8-7 10.6-7s8.9 2.9 10.6 7",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})]})}function q(e,i){const[r,o]=u.useState(!1),l=k();return[u.useCallback(async a=>{a.preventDefault();try{o(!0);let n;e.mode==="login"?n=await L({method:"email",email:e.email,password:e.password}):n=await R({email:e.email,password:e.password}),n.user&&(i(s=>s.error?{...s,error:null}:s),l("/"))}catch(n){const s=(n==null?void 0:n.message)??"Login failed.";i(c=>({...c,error:s}))}finally{o(!1)}},[e.email,e.password,e.mode]),r]}function G(e){return u.useState({mode:e.mode,email:"",password:"",code:"",saml:!1,otpSent:void 0,error:void 0})}function Y(e){return u.useCallback(function(i){const{name:r,value:o}=i.target;e(l=>l[r]===o?l:{...l,[r]:o})},[e])}function Z(e){return u.useCallback(i=>{i.preventDefault(),e(r=>({...r,saml:!r.saml,otpSent:!1,code:""}))},[e])}function J(e){const i=k();return u.useCallback(async function(r){try{const o=r.currentTarget.dataset.method;(await L({method:o})).user&&(e(a=>a.error?{...a,error:null}:a),i("/"))}catch(o){const l=(o==null?void 0:o.message)??"Login failed.";e(a=>({...a,error:l}))}},[i,e])}function K(e){const{sx:i,...r}=e;return t.jsxs(g,{sx:{color:"text.secondary","& span":{opacity:.6},"& a":{fontWeight:500,opacity:.7},"& a:hover":{opacity:1},...i},variant:"body2",...r,children:[t.jsxs("span",{children:["By clicking Continue above, your acknowledge that your have read and understood, and agree to ",$.app.name,"'s"]})," ",t.jsx(x,{color:"inherit",href:"/terms",children:"Terms & Conditions"}),t.jsx("span",{children:" and "}),t.jsx(x,{color:"inherit",href:"/privacy",children:"Privacy Policy"}),t.jsx("span",{children:"."})]})}function ie(e){const[i,r]=G(e),o=Y(r),l=J(r),[a,n]=q(i,r);Z(r);const{pathname:s,search:c}=z(),d=e.mode==="signup";return t.jsxs(E,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"1rem",flexGrow:.8},children:[t.jsx(g,{sx:{mb:2,fontWeight:800,order:-3},variant:"h1",align:"center",children:d?"Sign Up":"Login"}),i.error&&t.jsx(C,{sx:{mb:2,order:-2},severity:"error",children:i.error}),i.otpSent&&t.jsx(C,{sx:{mb:2},severity:"success",children:"Please enter the One Time Password (OTP) that has been sent to your email address."}),t.jsx("form",{id:"login-form",onSubmit:a,children:i.otpSent?t.jsx(v,{name:"code",variant:"outlined",label:"OTP code",placeholder:"Enter OTP code...",InputLabelProps:{shrink:!0},InputProps:{sx:{fontWeight:700}},onChange:o,disabled:n,autoComplete:"off",autoFocus:!0,fullWidth:!0,required:!0},"code"):t.jsxs(t.Fragment,{children:[t.jsx(v,{sx:{mb:2},name:"email",type:"email",variant:"outlined",label:"Your email",placeholder:"Enter your email address...",InputLabelProps:{shrink:!0},onChange:o,disabled:n,fullWidth:!0,required:!0},"email"),t.jsx(v,{name:"password",type:"password",variant:"outlined",label:"Your password",placeholder:"Enter your password...",InputLabelProps:{shrink:!0},onChange:o,disabled:n,fullWidth:!0,required:!0},"password")]})}),t.jsx(w,{color:"inherit",form:"login-form",type:"submit",variant:"outlined",size:"large",children:i.otpSent?"Sign In":d?"Sign Up with Email":`Continue with ${i.saml?"SAML":"Email"}`,disabled:n,fullWidth:!0}),d?t.jsxs(g,{sx:{color:"text.secondary"},variant:"body2",align:"center",children:["Already have an account?"," ",t.jsx(x,{sx:{":hover":{color:"text.primary"}},color:"inherit",href:`login${c}`,children:"Log In"})]}):t.jsxs(g,{sx:{color:"text.secondary"},variant:"body2",align:"center",children:["Don't have an account?"," ",t.jsx(x,{sx:{":hover":{color:"text.primary"}},color:"inherit",href:`signup${c}`,children:"Sign Up"})]}),t.jsx(V,{sx:{color:"divider",order:d?void 0:-1},children:"OR"}),t.jsx(w,{sx:{backgroundColor:f=>f.palette.mode==="light"?"white":void 0,order:d?void 0:-2},color:"inherit",type:"submit",variant:"outlined",size:"large",children:"Continue with Google",startIcon:t.jsx(_,{variant:"google.com"}),onClick:l,"data-method":"google.com",fullWidth:!0}),t.jsx(K,{sx:{mt:4}})]})}export{ie as default};
